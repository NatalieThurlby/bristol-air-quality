<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
	    <title>Luftdaten Dashboard</title>
	    <link rel="stylesheet" href="css/style.css">
	    <link rel="stylesheet" href="css/svg.css">
		<link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/default.min.css">
		<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/vega-tooltip@0.5.0/build/vega-tooltip.min.css">
		<script src="https://cdn.jsdelivr.net/npm/d3@4.13.0"></script>
		<script src="https://cdn.jsdelivr.net/npm/vega@3.1.0/build/vega-core.min.js"></script>
		<!-- <script src="https://cdn.jsdelivr.net/npm/vega-embed@3"></script> -->
		<script src="https://cdn.jsdelivr.net/npm/vega-tooltip@0.5.1"></script>
	</head>

	<body>
		<section>
			<div>
				<a id="nav-home" class="nav-link">Home</a>
				<a id="nav-day-of-week" class="nav-link">Day of week</a>
				<a id="nav-over-time" class="nav-link">Air quality over time</a>
			</div>
		</section>
		<section>
			<h1 id="page-title"></h1>
		</section>
		<section id="sensor-choices">
			<div>
				<div>
					<select id="sensor-id"></select>
				</div>
				<div>
					<select id="dates-1">
						<option>Select date...</option>
						<option>Jan 2018</option>
					</select>
				</div>
			</div>
		</section>

		<div class="main-content">

			<div class="home-page page">
				<p>
					This site shows air quality based on readings
					from Open Source sensors from Luftdaten.
				</p>
				<p>
					You can compare readings from differet sensors/times
					using the drop down boxes in the pages with visualisations.
				</p>
			</div>

			<div class="day-of-week page">
				<p>
					Shows air quality by day of the week and time of day. Each segment
					shows average (mean) air quality particulate readings for a one hour block.
					Red indicates the highest air pollution levels.
				</p>
			</div>

			<div class="over-time page">
				<p>
					Shows air quality particulate readings as 24 hour means. Each
					point shows the average air quality reading for the
					24 hours preceding it. This lets us measure the air quality
					against air quality indexes.
				</p>
			</div>

			<div class="all-products page">

				<h3>Our products</h3>

				<div class="filters">
				</div>

			</div>

			<div class="single-product page">

				<div class="overlay"></div>

				<div class="preview-large">
					<h3>Single product view</h3>
					<img src=""/>
					<p></p>

					<span class="close">&times;</span>
				</div>

			</div>

			<div class="error page">
				<h3>Sorry, something went wrong :(</h3>
			</div>

		</div>

		<!-- OLD -->
		<p>&nbsp;</p>
		<p>&nbsp;</p>
		<p>&nbsp;</p>
		<p>&nbsp;</p>
		<p>&nbsp;</p>
		<p>&nbsp;</p>

		<section>
			<div class="chart" id="circleChart"></div>
            <div id="info"></div>
		</section>

		<section>

			<div id="view"></div>
		</section>


		<!-- <footer>
			<p>Built with <a href="http://d3js.org">D3</a>.</p>
		</footer> -->

		<!-- <script src="http://d3js.org/d3.v3.min.js"></script> -->
		<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
		<script src="js/libs/circularheatchart/circularHeatChartV4.js"></script>
		<script src="js/config.js"></script>
		<script src="js/chart.js"></script>
		<script src="js/site.js"></script>
		<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
		<script>
			$(document).ready(function () {
				var sensorId = 7675;
				luftviz.chart24hourmean.render("#view", sensorId);
				configLoad = config.loadSpec("/data/luftdaten/aggregated/sensor-summary.json")
					.done(function(config) {
						// console.log( config );
						luftviz.page.populateSensors("#sensor-id", config);
						// luft
					})
					.fail(function() {
						alert("Couldn't load config file. Have you run the data processing scripts?");
						console.log( "Error loading config" );
					});
			});
		</script>
	</body>
</html>
